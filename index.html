<html lang="hr">
  <head>
    <meta charset="utf-8" />
    <title>Prosti brojevi</title>
    <script src="https://sagecell.sagemath.org/static/jquery.min.js"></script>
    <script src="https://sagecell.sagemath.org/static/embedded_sagecell.js"></script>
    <script>$(function () {
    sagecell.makeSagecell({
      editor: "codemirror-readonly",
      inputLocation: 'div.compute', 
      hide: ["editorToggle", "permalinks"], //
      evalButtonText: 'Izračunaj'
    });
    });
    </script>
    <link rel="stylesheet" type="text/css" href="https://sagecell.sagemath.org/static/sagecell_embed.css">
    <style type="text/css">
      @import url(http://fonts.googleapis.com/css?family=Libre+Baskerville:400,700,400italic&subset=latin,latin-ext);
      @import url(http://fonts.googleapis.com/css?family=Yanone+Kaffeesatz&subset=latin,latin-ext);

      body {
        font-family: 'Libre Baskerville';
        font-size: 20px;
      }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: 400;
        margin-bottom: 0;
        margin-top: 10px;
      }
      h1 { font-size: 3.5em; }
      h2 { font-size: 3em; }
      h3 { font-size: 1.6em; }
      .footnote {
        position: absolute;
        bottom: 3em;
      }
      li p { line-height: 1.25em; }
      .red { color: #fa0000; }
      .large { font-size: 2em; }
      a, a > code {
        color: rgb(249, 38, 114);
/*        text-decoration: none;*/
      }
/*      code {
        -moz-border-radius: 5px;
        -web-border-radius: 5px;
        background: #e7e8e2;
        border-radius: 5px;
        font-size: 16px;
      }*/
      .pull-left {
        float: left;
        width: 47%;
      }
      .pull-right {
        float: right;
        width: 47%;
      }
      .pull-right ~ p {
        clear: both;
      }
/*      #slideshow .slide .content code {
        font-size: 0.8em;
      }
      #slideshow .slide .content pre code {
        font-size: 0.9em;
        padding: 15px;
      }*/
      .inverse {
        background: #272822;
/*        color: #777872;*/        
        color: white;
        text-shadow: 0 0 20px #333;
      }
      .inverse h1, .inverse h2 {
        color: #f3f3f3;
        line-height: 0.8em;
      }

      /* Slide-specific styling */
      #slide-inverse .footnote {
        bottom: 12px;
        left: 20px;
      }
      #slide-how .slides {
        font-size: 0.9em;
        position: absolute;
        top:  151px;
        right: 140px;
      }
      #slide-how .slides h3 {
        margin-top: 0.2em;
      }
      #slide-how .slides .first, #slide-how .slides .second {
        padding: 1px 20px;
        height: 90px;
        width: 120px;
        -moz-box-shadow: 0 0 10px #777;
        -webkit-box-shadow: 0 0 10px #777;
        box-shadow: 0 0 10px #777;
      }
      #slide-how .slides .first {
        background: #fff;
        position: absolute;
        top: 20%;
        left: 20%;
        z-index: 1;
      }
      #slide-how .slides .second {
        position: relative;
        background: #fff;
        z-index: 0;
      }

      /* Two-column layout */
      .left-column {
        color: #777;
        width: 20%;
        height: 92%;
        float: left;
      }
        .left-column h2:last-of-type, .left-column h3:last-child {
          color: #000;
        }
      .right-column {
        width: 75%;
        float: right;
        padding-top: 2em;
      }
    </style>
  </head>
<body>
<textarea id="source">
name: inverse
layout: true
class: center, middle, inverse

---

# Prosti brojevi

---
layout: false
class: middle
# Definicija prostih brojeva

Za prirodni broj $a$ kažemo da je <b>djeljiv</b> sa prirodnim brojem $b$ ( pišemo $b | a$) ako postoji prirodni broj $c$ takav da je $a = bc$. 
Broj $b$ je <b>mjera</b> (djelitelj) broja $a$, koji je <b>višekratnik</b> (multiplum) broja $b$.

Prirodni broj veći od 1 djeljiv jedino samim sobom i brojem 1 je <b>prosti broj</b>. Prirodni brojevi veći od 1 koji nisu prosti se nazivaju <b>složeni brojevi</b>.

Broj 0 nije ni prost ni složen broj.

---

#Primjeri

Prvih $n$ prostih brojeva

<div class="compute"><script type="text/x-sage">
@interact
def _(n=('Unesite $n$',5)):
  print(primes_first_n(n))
</script>
</div>

Je li broj $n$ prosti broj?

<div class="compute"><script type="text/x-sage">
@interact
def _(n=('Unesite $n$',5)):
  print( is_prime(n))
</script>
</div>

---

# Relativno prosti brojevi

Brojevi $a$ i $b$ su <b>relativno prosti</b> ako je najveći zajednički djelitelj brojeva $a$ i $b$ jednak $1$, tj. brojevi $a$ i $b$ nemaju zajedničkih faktora ili im je najveći zajednički djelitelj jednak 1.

<div class="compute"><script type="text/x-sage">
@interact
def _(a=('Unesite $a$',75),b=('Unesite $b$',23)):
  if gcd(a,b)==1: print 'Brojevi ',a,' i ',b,' su relativno prosti.'
  if gcd(a,b)!=1: print 'Brojevi ',a,' i ',b,' nisu relativno prosti.'
</script>
</div>

---
layout: false
class: middle
# Teorem 1

<i>Svaki prirodni broj je djeljiv sa barem jednim prostim brojem.</i>

<b>Dokaz</b>
Neka je $n$ prirodan broj. Ako je $n$ prost broj, tada je djeljiv sa samim sobom i tvrdnja slijedi.
Ako je $n$ složen broj, tada pmeđu njegovim djeliteljima postoji najmanji djelitelj, označimo ga sa $p$.
Kada bi $p$ bio složen broj, tada bi njegov djelitelj bio jedan od faktora broja $n$ i to bi bio djelitelj koji je manji od njegovog najmanjeg djelitelja $p$, što je kontradikcija.
Stoga je $p$ prosti broj.

Svaki prosti broj je djeljiv sam sa sobom.

---

# Teorem 2

<i>Svaki složen broj možemo napisati kao produkt prostih brojeva.</i>

<b>Dokaz</b>
Neka je $p_1$ najmanji prosti djelitelj složenog broja $n$. Ako označimo $q_1=n | p_1$, tada imamo $n=p_1 q_1$.
Ako je $q_1$ složen broj, tada postoji njegov najmanji prosti djelitelj $p_2$ i vrijedi $n=p_1 p_2 q_2$, gdje je $q_2=q_1 | p_2$.
Ovaj postupak provodimo dok ne dođemo do oblika $n=p_1 p_2 \cdots p_m$; naime pošto je $n>q_1>q_2> \dots$, u jednom trenutku ćemo doći do $q_k$ koji je prosti broj.

---

layout: false
class: middle

# Euklidov teorem

<i>Postoji beskonačno mnogo prostih brojeva.</i>

<b>Dokaz</b>
Pretpostavimo suprotno; neka postoji točno $n$ prostih brojeva.
Neka je $p_n$ najveći prosti broj i promatrajmo broj $2 \cdot 3 \cdot 5 \cdot 7 \cdots \cdot p_n + 1$. On je veći od svakog prostog broja pa stoga nije prosti broj.
S druge strane, on nije djeljivi niti sa jednim prostim brojem (uvijek dobivamo ostatak $1$ pri djeljenju). Stoga on mora biti prosti broj pa dolazimo do kontradikcije.

<div class="compute"><script type="text/x-sage">
P = Primes()
P.cardinality()
</script>
</div>

---

layout: false
class: middle

# Osnovni teorem aritmetike

<i>Faktorizacija svakog prirodnog broja $n > 1$ na proste faktore je jedinstvena do na poredak prostih faktora.</i>

Faktorizacija prirodnog broja $n>1$
<div class="compute"><script type="text/x-sage">
@interact
def _(n=('Unesite broj $n$',36)):
  print factor(n)
</script>
</div>

---

layout: false
class: middle
# Eratostenovo sito

<b>Eratostenovo sito</b> je algoritam za dobivanje svih prostih brojeva koji su manji od zadanog broja $n$.

Postupak:
1.napišemo sve brojeve od $2$ do odabranog broja $n$
2.zaokružimo najmanji neoznačeni broj
2.precrtamo sve njegove višekratnike, koji nisu već označeni
4.ponavljamo postupak od 2. koraka dok svi brojevi nisu označeni (zaokruženi ili precrtani)

Zaokruženi brojevi su prosti brojevi, a precrtani brojevi su složeni brojevi.

---

layout: false
class: middle
# Definicija funkcije $\pi (x)$

Sa $\pi (x)$ ćemo označavati broj prostih brojeva $p$ koji si manji od $x$, tj. $p \gt x, x \in [2, \infty>$

$\pi (x) = \text{card} \{ p \in P | p \gt x\}, \pi : [0,\infty> \to \mathbb{N} $


<div class="compute"><script type="text/x-sage">
def f(x):
  return pari(x).primepi()

g = plot(f,(2,200))
print('Graf funkcije r $\pi (x)$')
g.ymax(50)
g.ymin(0)
g.xmin(0)
g.xmax(200)
g.axes_labels([r'$x$',r'$\pi (x)$'])
g
</script>
</div>

---

layout: false
class: middle
#Prime Number Theorem 

Teorem o prostim brojevima objašnjava asimptotsko distribuciju prostih brojeva, među prirodnim brojevima.
On formalizira intuitivnu predođbu o tome da su prosti brojevi sve rijeđi kada postaju veći.

Tvrdnja teorema je da se funkcija $\pi(x)$ može aproksimirati na sljedeći način:
$\pi (x) \approx \frac{x}{\ln x} $
odnosno
$\lim_{x \to \infty} \frac{\pi (x) }{\frac{x}{\ln x}} = 1$

---

#Ilustracija i posljedice Prime Number Theorem-a

<div class="compute"><script type="text/x-sage">
@interact
def _(N=(100,(2..2000))):
    html("<font color='red'>$\pi(x)$</font> and <font color='blue'>$x/(\log(x)-1)$</font> for $x < %s$"%N)
    show(plot(prime_pi, 0, N, rgbcolor='red') + plot(x/(log(x)-1), 5, N, rgbcolor='blue'))
</script>
</div>

Posljedica PNT-a je da se n-ti prosti broj može procijeniti kao: $p(n) \sim n * \ln (n)$

---

layout: false
class: middle
#Dirichletov teorem

<i>Neka su $d$ i $a$ prirodni brojevi takvi da je njihova mjera $(d, a) = 1$, tj. oni su relativno prosti. Tada postoji beskonačno mnogo prostih brojeva oblika $ d n + a, n \in \mathbb{N_0}$,
tj. postoji beskonačno mnogo prostih brojeva u aritmetičkom nizu $a, d + a, 2 d + a, 3 d + a, \dots $ </i>
Drugim riječima, postoji beskonačno mnogo prostih brojeva koji su kongruentni $a$ modulo $d$.

Snažnija forma Dirichletovog teorema implicira da red
$\frac{1}{3} + \frac{1}{7} + \frac{1}{11} + \frac{1}{19} + \frac{1}{23} + \frac{1}{31}+ \frac{1}{43} + \dots$
divergira.

---

#Ulamova spirala

Ulamova spirala je grafički prikaz prostih brojeva koji pokazuje da su prosti brojevi gusti u nekim područjima prirodnih brojeva.
Dobiva se crtanjem pravokutne spirale prirodnih brojeva, krećući sa 1 iz sredine te do proizvoljnog broja $n$. Nakon što se ispišu svi brojevi, brišu se svi složeni brojevi.
Preostali prosti brojevi, za veće $n$, daju zanimljive oblike.

<div class="compute"><script type="text/x-sage">
@interact
def square_prime_spiral(start=1, end=100, size_limit = 10, show_lines=false, invert=false, x_cord=0, y_cord=0, n = 0):

    """
    REFERENCES:
        Alpern, Dario. "Ulam's Spiral". http://www.alpertron.com.ar/ULAM.HTM
        Sacks, Robert. http://www.NumberSpiral.com
        Ventrella, Jeffery. "Prime Numbers are the Holes Behind Complex Composite Patterns". http://www.divisorplot.com
        Williamson, John. Number Spirals. http://www.dcs.gla.ac.uk/~jhw/spirals/index.html jhw@dcs.gla.ac.uk
        Weisstein, Eric W. "Prime-Generating Polynomial." From MathWorld--A Wolfram Web Resource. http://mathworld.wolfram.com/Prime-GeneratingPolynomial.html
    """

    #Takes an (x,y) coordinate (and the start of the spiral) and gives its corresponding n value
    def find_n(x,y, start):
        if x>0 and y>-x and y<=x: return 4*(x-1)^2 + 5*(x-1) + (start+1) + y
        elif x<=0 and y>=x and y<=-x: return 4*x^2 - x + (start) -y
        elif y>=0 and -y+1 <= x and y-1 >= x: return 4*y^2 -y + start -x
        elif y<0 and -x >= y and y<x: return 4*(y+1)^2 -11*(y+1) + (start+7) +x
        else: print 'NaN'

    #Takes in an n and the start value of the spiral and gives its (x,y) coordinate
    def find_xy(num, start):
        num = num - start +1
        bottom = floor(sqrt(num))
        top = ceil(sqrt(num))
        if bottom^2 < num and num<=bottom^2+bottom+1:
            if bottom%2 == 0:
                x=-bottom/2
                y=-x-(num-bottom^2)+1
            else:
                x=bottom/2+1/2
                y=-x + (num-bottom^2)
        else:
            if top%2 == 0:
                y=top/2
                x=-top/2+1+top^2-num
            else:
                y=-top/2+1/2
                x=top/2 -1/2 - (top^2-num)
        x = Integer(x)
        y = Integer(y)
        return (x,y)

    if start < 1 or end <=start: print "invalid start or end value"
    if n > end: print "WARNING: n is larger than the end value"

    #Changes the entry of a matrix by taking the old matrix and the (x,y) coordinate (in matrix coordinates) and returns the changed matrix
    def matrix_morph(M, x, y, set):
        N = copy(M)
        N[x-1,y] = set
        M = N
        return M

    #These functions return an int based on where the t is located in the spiral
    def SW_NE(t, x, y, start):
        if -y<x: return 4*t^2 + 2*t -x+y+start
        else: return 4*t^2 + 2*t +x-y+start
    def NW_SE(t, x, y, start):
        if x<y: return 4*t^2 -x-y+start
        else: return 4*t^2 + 4*t +x+y+start

    size = ceil(sqrt(end-start+1)) #Size of the matrix
    num=copy(start) # Start number (might not be used)
    x = ceil(size/2)   #starting center x of the matrix (in matrix coordinates)
    y = copy(x)        #starting center y of the matrix (in matrix coordinates)
    if n !=0: x_cord, y_cord = find_xy(n, start) #Overrides the user given x and y coordinates
    xt = copy(x_cord)
    yt = copy(y_cord)
    countx=0
    county=0
    overcount = 1
    if size <= size_limit: M = matrix(ZZ, size+1) # Allows the numbers to be seen in the smaller matricies
    else: M = matrix(GF(2), size+1) # Restricts the entries to 0 or 1

    main_list = set()
    #print x_cord, y_cord
    if show_lines:
        for t in [(-size-1)..size+1]:
            m= SW_NE(t, xt, yt, start)
            if m.is_pseudoprime(): main_list.add(m)
            m= NW_SE(t, xt, yt, start)
            if m.is_pseudoprime(): main_list.add(m)
    else: main_list = set(prime_range(end))

    #This for loop changes the matrix by spiraling out from the center and changing each entry as it goes. It is faster than the find_xy function above.
    for num in [start..end]:
        #print x, "=x  y=", y, " num =", num
        if countx < overcount:
            if overcount % 2 == 1: x+=1
            else: x-=1
            countx += 1

        elif county < overcount:
            if overcount % 2 == 1: y+=1
            else: y-=1
            county += 1
        else:
            overcount += 1
            countx=2
            county=0
            if overcount % 2 == 1: x+=1
            else: x-=1

        if not invert and num in main_list:
            if size <= size_limit: M = matrix_morph(M, x, y, num)
            else: M = matrix_morph(M, x, y, 1)

        elif invert and num not in main_list: #This does the opposite of the above if statement by changing the matrix only when a number is not in the list of allowable primes
            if size <= size_limit: M = matrix_morph(M, x, y, num)
            else: M = matrix_morph(M, x, y, 1)

    if n != 0:
        print '(to go from x,y coords to an n, reset by setting n=0)'
        (x_cord, y_cord) = find_xy(n, start)
        #print 'if n =', n, 'then (x,y) =', (x_cord, y_cord)

    print '(x,y) =', (x_cord, y_cord), '<=> n =', find_n(x_cord, y_cord, start)
    print ' '
    print "SW/NE line"
    if -y_cord<x_cord: print '4*t^2 + 2*t +', -x_cord+y_cord+start
    else: print '4*t^2 + 2*t +', +x_cord-y_cord+start

    print "NW/SE line"
    if x_cord<y_cord: print '4*t^2 +', -x_cord-y_cord+start
    else: print '4*t^2 + 4*t +', +x_cord+y_cord+start

    if size <= size_limit: show(M) #Displays the matrix with integer entries
    else:
        M.visualize_structure() # Displays the final resulting matrix as a series of pixels (1 <=> pixel on)
        #matrix_plot(M)
</script>
</div>

</textarea>



<script src="http://gnab.github.io/remark/downloads/remark-latest.min.js" type="text/javascript"></script>
<!-- želim skrolanje, ne želim brojeve stranica -->
<style type="text/css">
.remark-container {
  overflow-y: scroll;
}
.remark-slide-scaler {
  overflow-y: scroll;
      }
.remark-slide-number{
  display:none;
      }      
</style>


<!-- load MathJax -->
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML&delayStartupUntil=configured"></script>

<!-- Initialize (has to go in <script> tag **without** SRC attribute) -->
<script type="text/javascript">
    // Create slideshow
    var slideshow = remark.create({        
      navigation: {scroll: false},
      highlightLanguage: 'python'
    });
    
    // Setup MathJax
    MathJax.Hub.Config({
        TeX: { equationNumbers: { autoNumber: "AMS" },
               extensions: ["AMSmath.js", "AMSsymbols.js"]  
    },
        tex2jax: { 
        inlineMath: [['$','$'], ['\\(','\\)']],
        displayMath: [ ['$$','$$'], ['\[','\]'] ],
        processEnvironments: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
        }
    });
    MathJax.Hub.Queue(function() {
        $(MathJax.Hub.getAllJax()).map(function(index, elem) {
            return(elem.SourceElement());
        }).parent().addClass('has-jax');
    });
    
    MathJax.Hub.Configured();
</script>
</body>
</html>
